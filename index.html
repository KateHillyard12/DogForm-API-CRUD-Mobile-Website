<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GIMM 285 Form</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" type="text/css" href="stylesheet.css" />
  </head>

  <body>
    <div id="custom-cursor">
      <!-- Your custom cursor image goes here -->
      <img src="BlackPawPrint.webp" alt="Custom Cursor" />
    </div>

    <h1>Dog Form Data</h1>
    <div id="border"></div>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h2>FIND YOUR DREAM DOG:</h2>
          <form id="DogForm">
            <label for="breed" class="slide-in"
              >What breed type are you looking for?</label
            >
            <select id="breed" class="slide-in" >
              <option value="none"></option>
              <option value="toy">Toy</option>
              <option value="work">Work</option>
              <option value="herd">Herd</option>
              <option value="sport">Sport</option>
            </select>
            <div class="row mb-3">
              <div id="breed-error" class="col-12 text-danger">&nbsp;</div>
            </div>

            <label for="fur" class="slide-in">What fur type best suites your needs?</label>
            <select id="fur" class="slide-in">
              <option value="none"></option>
              <option value="smooth">Smooth</option>
              <option value="rough">Rough</option>
              <option value="cord">Corded</option>
              <option value="doub">Double</option>
              <option value="silk">Silky</option>
              <option value="curl">Curly/Wavy</option>
              <option value="wire">Wire</option>
              <option value="hless">Hairless</option>
            </select>

            <div class="row mb-3">
              <div id="fur-error" class="col-12 text-danger">&nbsp;</div>
            </div>

            <label for="color" class="slide-in"
              >What color or color combo do you have in mind?</label
            >
            <input type="text" id="color" class="slide-in" />
            <div class="row mb-3">
              <div id="color-error" class="col-12 text-danger">&nbsp;</div>
            </div>

            <label for="energy" class="slide-in" >What energy level fits your lifestyle?</label>
            <select id="energy" class="slide-in">
              <option value="none"></option>
              <option value="low">Low</option>
              <option value="med">Medium</option>
              <option value="high">High</option>
            </select>
            <div class="row mb-3">
              <div id="energy-error" class="col-12 text-danger">&nbsp;</div>
            </div>

            <label for="size"class="slide-in" 
              >What size dog are you looking for? (Please provide an estimate
              weight)</label
            >
            <input type="text" id="size" class="slide-in" />
            <div class="row mb-3">
              <div id="size-error" class="col-12 text-danger">&nbsp;</div>
            </div>
          </form>
        </div>
        <div class="row mb-3">
          <div class="col-md-2">
            <label class="slide-in">Limit Search</label>
          </div>
          <div class="col-md-10">
            <select id="limit" class="slide-in">
              <option value=""></option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
              <option value="32">32</option>
              <option value="33">33</option>
              <option value="34">34</option>
              <option value="35">35</option>
              <option value="36">36</option>
              <option value="37">37</option>
              <option value="38">38</option>
              <option value="39">39</option>
              <option value="40">40</option>
              <option value="41">41</option>
              <option value="42">42</option>
              <option value="43">43</option>
              <option value="44">44</option>
              <option value="45">45</option>
              <option value="46">46</option>
              <option value="47">47</option>
              <option value="48">48</option>
              <option value="49">49</option>
              <option value="50">50</option>
              <option value="51">51</option>
              <option value="52">52</option>
              <option value="53">53</option>
              <option value="54">54</option>
              <option value="55">55</option>
              <option value="56">56</option>
              <option value="57">57</option>
              <option value="58">58</option>
              <option value="59">59</option>
              <option value="60">60</option>
              <option value="61">61</option>
              <option value="62">62</option>
              <option value="63">63</option>
              <option value="64">64</option>
              <option value="65">65</option>
              <option value="66">66</option>
              <option value="67">67</option>
              <option value="68">68</option>
              <option value="69">69</option>
              <option value="70">70</option>
              <option value="71">71</option>
              <option value="72">72</option>
              <option value="73">73</option>
              <option value="74">74</option>
              <option value="75">75</option>
              <option value="76">76</option>
              <option value="77">77</option>
              <option value="78">78</option>
              <option value="79">79</option>
              <option value="80">80</option>
              <option value="81">81</option>
              <option value="82">82</option>
              <option value="83">83</option>
              <option value="84">84</option>
              <option value="85">85</option>
              <option value="86">86</option>
              <option value="87">87</option>
              <option value="88">88</option>
              <option value="89">89</option>
              <option value="90">90</option>
              <option value="91">91</option>
              <option value="92">92</option>
              <option value="93">93</option>
              <option value="94">94</option>
              <option value="95">95</option>
              <option value="96">96</option>
              <option value="97">97</option>
              <option value="98">98</option>
              <option value="99">99</option>
              <option value="100">100</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <button id="search">Search for Dog</button>
          </div>
        </div>
      </div>
    </div>

    <hr />

    <div class="table-container">
      <table id="dog_breeds" class="overflow">
        Dog Form goes here.
      </table>
    </div>

    <script>
   // JavaScript to trigger the animation
   document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".slide-in").forEach(function (element) {
          element.classList.add("active");
        });
      });
      document.addEventListener("DOMContentLoaded", function () {
        var cursor = document.getElementById("custom-cursor");

        // Show the cursor when the page is loaded
        cursor.style.display = "block";

        //handles the click event
        function handleClick(event) {
            // Create a new image element for the paw print
            var pawPrint = document.createElement("img");
            pawPrint.src = "BlackPawPrint.webp";
            pawPrint.classList.add("paw-print");

            // Calculate the position of the paw print relative to the viewport
            var pawPrintSize = 40; // Assuming the size of the cursor image is 40x40 pixels
            var pawPrintX = event.clientX - pawPrintSize / 2;
            var pawPrintY = event.clientY - pawPrintSize / 2 + window.pageYOffset; // Add scroll offset

            // Set the position of the paw print
            pawPrint.style.position = "absolute";
            pawPrint.style.left = pawPrintX + "px";
            pawPrint.style.top = pawPrintY + "px";

            // Set the size of the paw print
            pawPrint.style.width = pawPrintSize + "px";
            pawPrint.style.height = pawPrintSize + "px";

            // Append the paw print to the body
            document.body.appendChild(pawPrint);
        }

        // Add click event listener to the document
        document.addEventListener("click", handleClick);

         // Update cursor position on scroll
         window.addEventListener("scroll", function () {
            var x = event.clientX;
            var y = event.clientY + window.pageYOffset;
            cursor.style.left = x + "px";
            cursor.style.top = y + "px";
        });


        document.addEventListener("mousemove", function (event) {
          var x = event.clientX;
          var y = event.clientY;
          cursor.style.left = x + "px";
          cursor.style.top = y + "px";
        });

        // Update cursor position on scroll
        window.addEventListener("scroll", function () {
          var x = event.clientX;
          var y = event.clientY + window.pageYOffset;
          cursor.style.left = x + "px";
          cursor.style.top = y + "px";
        });
      });

      const isEmpty = (obj) => Object.keys(obj).length === 0;

      document.getElementById("search").addEventListener("click", (event) => {
        const formData = new FormData();

        if (document.getElementById("breed").value.length !== 0) {
          formData.append("breed", document.getElementById("breed").value);
        }
        if (document.getElementById("fur").value.length !== 0) {
          formData.append("fur", document.getElementById("fur").value);
        }
        if (document.getElementById("color").value.length !== 0) {
          formData.append("color", document.getElementById("color").value);
        }
        if (document.getElementById("energy").value.length !== 0) {
          formData.append("energy", document.getElementById("energy").value);
        }
        if (document.getElementById("size").value.length !== 0) {
          formData.append("size", document.getElementById("size").value);
        }
        if (document.getElementById("limit").value.length !== 0) {
          formData.append("limit", document.getElementById("limit").value);
        }

        let fetchSettings = {
          method: "POST",
          body: formData,
        };

        fetch("http://localhost/", fetchSettings)
          .then((response) => {
            return new Promise((resolve) =>
              response.json().then((json) =>
                resolve({
                  status: response.status,
                  json,
                })
              )
            );
          })

          .then(({ status, json }) => {
            if (status === 200) {
              let displayTable =
                "<table>" +
                "<thead>" +
                "<tr>" +
                '<th width="20%">Breed Name</th>' +
                '<th width="10%">Type</th>' +
                '<th width="10%">Fur</th>' +
                '<th width="10%">Color</th>' +
                '<th width="10%">Energy</th>' +
                '<th width="5%">Size</th>' +
                '<th width="5%">Shed</th>' +
                '<th width="8%">Good w/Dogs</th>' +
                '<th width="8%">Good w/Children</th>' +
                '<th width="5%">Drool</th>' +
                '<th width="5%">Bark</th>' +
                '<th width="5%">Trainability</th>' +
                "</tr>" +
                "</thead>" +
                "<tbody>";
              if (typeof json.data !== "undefined") {
                for (row of json.data) {
                  displayTable +=
                    "<tr>" +
                    "<td>" +
                    row.name +
                    "</td>" +
                    "<td>" +
                    row.breed +
                    "</td>" +
                    "<td>" +
                    row.fur +
                    "</td>" +
                    "<td>" +
                    row.color +
                    "</td>" +
                    "<td>" +
                    row.energy +
                    "</td>" +
                    "<td>" +
                    row.size +
                    "</td>" +
                    "<td>" +
                    row.shedding_level +
                    "</td>" +
                    "<td>" +
                    row.dog_kindness +
                    "</td>" +
                    "<td>" +
                    row.child_kindness +
                    "</td>" +
                    "<td>" +
                    row.drool_level +
                    "</td>" +
                    "<td>" +
                    row.bark_level +
                    "</td>" +
                    "<td>" +
                    row.train_level +
                    "</td>" +
                    "</tr>";
                }
              }
              displayTable += "</tbody></table>";
              document.getElementById("dog_breeds").innerHTML = displayTable;
            }
          })
          .catch((error) => {
            console.error("Error:", error);
          });
        return;
      });
    </script>
  </body>
</html>
